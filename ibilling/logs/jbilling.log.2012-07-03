2012-07-03 17:02:21,909 DEBUG [com.infosense.ibilling.common.SystemProperties] System properties loaded from: C:\Users\shdev\.grails\1.3.4\projects\jbilling-community-3.0.2\resources\jbilling.properties
2012-07-03 17:02:21,911 DEBUG [com.infosense.ibilling.common.SystemProperties] Resolved jbilling resources directory to: D:\jbilling-community-3.0.2-src\jbilling-community-3.0.2\resources\
2012-07-03 17:02:34,695 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + pluggable_task_type_category
2012-07-03 17:02:34,748 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] total classes = 3
2012-07-03 17:02:34,750 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Processing 3 scheduled tasks for entity 1
2012-07-03 17:02:34,750 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.mediation.task.MediationProcessTask
2012-07-03 17:02:34,760 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.mediation.task.MediationProcessTask
2012-07-03 17:02:34,840 DEBUG [com.infosense.ibilling.server.mediation.task.MediationProcessTask] Scheduling mediation process from jbilling.properties ...
2012-07-03 17:02:34,843 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Scheduled: [mediation process: start: , end: null, repeat: infinite, interval: 720 mins]
2012-07-03 17:02:34,843 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.billing.task.BillingProcessTask
2012-07-03 17:02:34,843 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.billing.task.BillingProcessTask
2012-07-03 17:02:34,850 DEBUG [com.infosense.ibilling.server.billing.task.BillingProcessTask] Scheduling billing process using plug-in parameters ...
2012-07-03 17:02:34,850 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Scheduled: [billing process: start: Wed Jul 28 00:00:00 CST 2010, end: null, repeat: infinite, interval: 24 hrs]
2012-07-03 17:02:34,850 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.process.task.AgeingProcessTask
2012-07-03 17:02:34,853 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.process.task.AgeingProcessTask
2012-07-03 17:02:34,853 DEBUG [com.infosense.ibilling.server.process.task.AgeingProcessTask] Scheduling ageing process from jbilling.properties ...
2012-07-03 17:02:34,853 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Scheduled: [ageing process: entity 1, start: , end: null, repeat: infinite, interval: 720 mins]
2012-07-03 17:02:37,825 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] total classes = 0
2012-07-03 17:02:37,825 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Processing 0 scheduled tasks for entity 2
2012-07-03 17:02:37,825 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Starting the job scheduler
2012-07-03 17:03:09,790 DEBUG [com.infosense.ibilling.client.authentication.CompanyUserAuthenticationFilter] Request is to process authentication
2012-07-03 17:03:09,873 DEBUG [com.infosense.ibilling.server.user.UserBL] Reading permisions for user 1
2012-07-03 17:03:09,986 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + role
2012-07-03 17:03:10,063 DEBUG [com.infosense.ibilling.client.authentication.util.SecuritySession] Setting locale for Spring contexts: en_CA
2012-07-03 17:03:10,063 DEBUG [com.infosense.ibilling.client.authentication.CompanyUserAuthenticationFilter] Authentication success. Updating SecurityContextHolder to contain: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@b6e699e: Principal: CompanyUserDetails{id=1, username='admin;1', mainRoleId=2, companyId=1, currencyId=1, languageId=1, enabled=true, accountExpired=false, credentialsExpired=false, accountLocked=false}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 36F279014AD3F0EACCA0B390D797D9E9; Granted Authorities: API_120, BILLING_80, CUSTOMER_10, CUSTOMER_11, CUSTOMER_12, CUSTOMER_13, CUSTOMER_14, CUSTOMER_15, CUSTOMER_16, INVOICE_70, INVOICE_71, INVOICE_72, INVOICE_73, INVOICE_74, MENU_90, MENU_91, MENU_92, MENU_93, MENU_94, MENU_95, MENU_96, MENU_97, MENU_98, MENU_99, ORDER_20, ORDER_21, ORDER_22, ORDER_23, ORDER_24, ORDER_25, ORDER_26, ORDER_27, ORDER_28, PAYMENT_30, PAYMENT_31, PAYMENT_32, PAYMENT_33, PAYMENT_34, PAYMENT_35, PAYMENT_36, PLAN_60, PLAN_61, PLAN_62, PLAN_63, PRODUCT_40, PRODUCT_41, PRODUCT_42, PRODUCT_43, PRODUCT_44, PRODUCT_CATEGORY_50, PRODUCT_CATEGORY_51, PRODUCT_CATEGORY_52, ROLE_SUPER_USER
2012-07-03 17:03:20,391 ERROR [grails.app.controller.jbilling.OrderBuilderController] Could not fetch WS object
2012-07-03 17:03:20,391 ERROR [grails.app.controller.jbilling.OrderBuilderController] Could not fetch WS object
2012-07-03 17:03:21,383 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + currency
2012-07-03 17:03:21,410 INFO  [com.infosense.ibilling.common.JNDILookup] Default Context set
2012-07-03 17:03:21,410 INFO  [com.infosense.ibilling.common.JNDILookup] New EJBFactory created.
2012-07-03 17:03:31,841 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + order_period
2012-07-03 17:04:01,000 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + user_status
2012-07-03 17:04:27,106 DEBUG [grails.app.service.jbilling.ProductService] getting item types
2012-07-03 17:04:27,106 DEBUG [grails.app.service.jbilling.ProductService] getting item types
2012-07-03 17:04:28,398 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + order_billing_type
2012-07-03 17:04:30,203 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + order_status
2012-07-03 17:04:30,806 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 42, for entity 1 and table 'entity'
2012-07-03 17:04:30,946 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 27, for entity 1 and table 'entity'
2012-07-03 17:04:31,071 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + period_unit
2012-07-03 17:04:31,376 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 41, for entity 1 and table 'entity'
2012-07-03 17:04:37,031 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + item
2012-07-03 17:04:46,813 DEBUG [com.infosense.ibilling.server.util.WebServicesSessionSpringBean] Processing order lines
2012-07-03 17:04:46,816 DEBUG [com.infosense.ibilling.server.util.WebServicesSessionSpringBean] Processing line OrderLine:[id=0 orderLineType=1 item=250 order id=null amount=null quantity=1 price=null createDatetime=null deleted=0 useItem=true description=null versionNum=null provisioningStatus=null provisionningRequestId=null editable=null]
2012-07-03 17:10:17,932 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] total classes = 1
2012-07-03 17:11:35,890 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.item.tasks.RulesPricingTask2
2012-07-03 17:12:04,147 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.item.tasks.RulesPricingTask2
2012-07-03 17:13:35,040 DEBUG [com.infosense.ibilling.server.util.DTOFactory] getting the user 10790
2012-07-03 17:13:35,100 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + subscriber_status
2012-07-03 17:13:35,438 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 43, for entity 1 and table 'entity'
2012-07-03 17:13:35,550 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 43, for entity 1 and table 'entity'
2012-07-03 17:13:35,760 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] UserIdFilter enabled
2012-07-03 17:13:35,768 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] NameFilter enabled
2012-07-03 17:13:35,773 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] CreditCardFilter enabled
2012-07-03 17:13:35,778 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] AddressFilter enabled
2012-07-03 17:13:35,783 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] IpAddressFilter enabled
2012-07-03 17:13:35,788 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] PhoneFilter enabled
2012-07-03 17:13:43,725 DEBUG [com.infosense.ibilling.server.user.ContactBL] ContactDTO: getting custom fields
2012-07-03 17:13:43,788 DEBUG [com.infosense.ibilling.server.user.ContactBL] Returning dto with 3 fields
2012-07-03 17:15:11,757 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context=PricingResult:itemId=250 userId=10790 currencyId=1 price=null pricing fields result id=0 id=-9223372036854775808 done=false 
2012-07-03 17:15:13,184 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context=UserDTO{id=10790, userName='ageing-test-01'}
2012-07-03 17:15:14,402 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context= id 113100 organizationName  address1  address2  city  stateProvince  postalCode  countryCode CA lastName  firstName  initial null title null phoneCountryCode null phoneAreaCode null phoneNumber  faxCountryCode null faxAreaCode null faxNumber null email test@test.com createDate 2011-06-01 10:36:25.546 deleted 0 include 0 userId null contactMap = null null versionNum 0
2012-07-03 17:15:15,969 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@3848110b
2012-07-03 17:15:17,507 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@357060b
2012-07-03 17:15:18,912 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@464dbde3
2012-07-03 17:17:13,969 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] Using MVEL thread accessor optimizer: org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer@747946a4
2012-07-03 17:17:14,706 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] Using MVEL accessor compiler: org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer@18a6b4a4
2012-07-03 17:21:46,319 DEBUG [com.infosense.ibilling.server.pluggableTask.PluggableTask] processing parameter file value PricingRules.pkg RateCard.pkg
2012-07-03 17:21:46,320 DEBUG [com.infosense.ibilling.server.pluggableTask.PluggableTask] adding parameter PricingRules.pkg
2012-07-03 17:21:46,320 DEBUG [com.infosense.ibilling.server.pluggableTask.PluggableTask] adding parameter RateCard.pkg
2012-07-03 17:21:47,939 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] Plan: added subscription for item 2701 user 10790
2012-07-03 17:21:47,954 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] Plan: added subscription for item 2702 user 10790
2012-07-03 17:21:47,969 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] Plan: added subscription for item 2700 user 10790
2012-07-03 17:21:47,969 DEBUG [com.infosense.ibilling.server.item.tasks.PricingResult] Setting price. Result fields id 0 item 250 price 0E-10
2012-07-03 17:21:47,976 DEBUG [com.infosense.ibilling.server.item.ItemBL] Got item: 250, price: 0E-10
2012-07-03 17:21:47,976 DEBUG [com.infosense.ibilling.server.util.WebServicesSessionSpringBean] Populating line using item ItemDTO: id=250
2012-07-03 17:21:47,976 INFO  [com.infosense.ibilling.server.util.WebServicesSessionSpringBean] before cycle start
2012-07-03 17:21:47,976 DEBUG [com.infosense.ibilling.server.order.OrderBL] Processing and order for reviewing.1
2012-07-03 17:21:52,569 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] total classes = 2
2012-07-03 17:21:52,569 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.order.task.RulesLineTotalTask2
2012-07-03 17:21:52,574 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.order.task.RulesLineTotalTask2
2012-07-03 17:21:52,574 DEBUG [com.infosense.ibilling.server.util.DTOFactory] getting the user 10790
2012-07-03 17:21:52,606 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 43, for entity 1 and table 'entity'
2012-07-03 17:21:52,619 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 43, for entity 1 and table 'entity'
2012-07-03 17:21:52,629 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] UserIdFilter enabled
2012-07-03 17:21:52,629 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] NameFilter enabled
2012-07-03 17:21:52,629 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] CreditCardFilter enabled
2012-07-03 17:21:52,629 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] AddressFilter enabled
2012-07-03 17:21:52,629 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] IpAddressFilter enabled
2012-07-03 17:21:52,629 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] PhoneFilter enabled
2012-07-03 17:21:52,825 DEBUG [com.infosense.ibilling.server.user.ContactBL] ContactDTO: getting custom fields
2012-07-03 17:21:52,825 DEBUG [com.infosense.ibilling.server.user.ContactBL] Returning dto with 3 fields
2012-07-03 17:21:52,827 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context=Order = id=null,baseUserByUserId=10790,baseUserByCreatedBy=null,currencyDTO=com.infosense.ibilling.server.util.db.CurrencyDTO@45396284,orderStatusDTO=com.infosense.ibilling.server.order.db.OrderStatusDTO@fe33c37,orderPeriodDTO=OrderPeriodDTO:[ id=1 company=null periodUnitDTO=null value=null versionNum=1],orderBillingTypeDTO= OrderBillingType=2,activeSince=Tue Jul 03 17:04:27 CST 2012,activeUntil=null,createDate=Tue Jul 03 17:21:47 CST 2012,nextBillableDay=null,deleted=0,notify=null,lastNotified=null,notificationStep=null,dueDateUnitId=null,dueDateValue=null,dfFm=null,anticipatePeriods=null,ownInvoice=null,notes=null,notesInInvoice=null,orderProcesses=[],isCurrent=0,versionNum=null lines:[OrderLine:[id=0 orderLineType=1 item=250 order id=null amount=null quantity=1 price=0E-10 createDatetime=Tue Jul 03 17:21:47 CST 2012 deleted=0 useItem=true description=Lemonade Plan versionNum=null provisioningStatus=null provisionningRequestId=null editable=true]-]
2012-07-03 17:21:52,827 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context=UserDTO{id=10790, userName='ageing-test-01'}
2012-07-03 17:21:52,827 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context= id 113100 organizationName  address1  address2  city  stateProvince  postalCode  countryCode CA lastName  firstName  initial null title null phoneCountryCode null phoneAreaCode null phoneNumber  faxCountryCode null faxAreaCode null faxNumber null email test@test.com createDate 2011-06-01 10:36:25.546 deleted 0 include 0 userId null contactMap = null null versionNum 0
2012-07-03 17:21:52,827 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@b3d4e26
2012-07-03 17:21:52,827 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@65d5a68d
2012-07-03 17:21:52,827 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@2da9a736
2012-07-03 17:21:52,827 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] Using MVEL thread accessor optimizer: org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer@5d20e1a5
2012-07-03 17:21:52,827 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] Using MVEL accessor compiler: org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer@19be4767
2012-07-03 17:21:52,830 DEBUG [com.infosense.ibilling.server.pluggableTask.PluggableTask] processing parameter file value ItemsRules.pkg
2012-07-03 17:21:52,830 DEBUG [com.infosense.ibilling.server.pluggableTask.PluggableTask] adding parameter ItemsRules.pkg
2012-07-03 17:21:53,102 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.pluggableTask.BasicLineTotalTask
2012-07-03 17:21:53,105 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.pluggableTask.BasicLineTotalTask
2012-07-03 17:21:53,105 DEBUG [com.infosense.ibilling.server.pluggableTask.BasicLineTotalTask] normal line total: 1 x 10.0000000000 = 10.0000000000
2012-07-03 17:21:53,105 DEBUG [com.infosense.ibilling.server.pluggableTask.BasicLineTotalTask] Order total = 10.0000000000
2012-07-03 17:22:24,835 DEBUG [com.infosense.ibilling.common.SystemProperties] System properties loaded from: C:\Users\shdev\.grails\1.3.4\projects\jbilling-community-3.0.2\resources\jbilling.properties
2012-07-03 17:22:24,837 DEBUG [com.infosense.ibilling.common.SystemProperties] Resolved jbilling resources directory to: D:\jbilling-community-3.0.2-src\jbilling-community-3.0.2\resources\
2012-07-03 17:24:29,419 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + pluggable_task_type_category
2012-07-03 17:24:29,472 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] total classes = 3
2012-07-03 17:24:29,472 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Processing 3 scheduled tasks for entity 1
2012-07-03 17:24:29,472 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.mediation.task.MediationProcessTask
2012-07-03 17:24:29,484 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.mediation.task.MediationProcessTask
2012-07-03 17:24:29,572 DEBUG [com.infosense.ibilling.server.mediation.task.MediationProcessTask] Scheduling mediation process from jbilling.properties ...
2012-07-03 17:24:29,572 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Scheduled: [mediation process: start: , end: null, repeat: infinite, interval: 720 mins]
2012-07-03 17:24:29,572 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.billing.task.BillingProcessTask
2012-07-03 17:24:29,574 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.billing.task.BillingProcessTask
2012-07-03 17:24:29,579 DEBUG [com.infosense.ibilling.server.billing.task.BillingProcessTask] Scheduling billing process using plug-in parameters ...
2012-07-03 17:24:29,579 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Scheduled: [billing process: start: Wed Jul 28 00:00:00 CST 2010, end: null, repeat: infinite, interval: 24 hrs]
2012-07-03 17:24:29,579 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.process.task.AgeingProcessTask
2012-07-03 17:24:29,582 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.process.task.AgeingProcessTask
2012-07-03 17:24:29,582 DEBUG [com.infosense.ibilling.server.process.task.AgeingProcessTask] Scheduling ageing process from jbilling.properties ...
2012-07-03 17:24:29,582 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Scheduled: [ageing process: entity 1, start: , end: null, repeat: infinite, interval: 720 mins]
2012-07-03 17:24:31,132 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] total classes = 0
2012-07-03 17:24:31,132 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Processing 0 scheduled tasks for entity 2
2012-07-03 17:24:31,132 DEBUG [com.infosense.ibilling.server.util.Bootstrap] Starting the job scheduler
2012-07-03 17:25:10,714 DEBUG [com.infosense.ibilling.client.authentication.CompanyUserAuthenticationFilter] Request is to process authentication
2012-07-03 17:25:10,800 DEBUG [com.infosense.ibilling.server.user.UserBL] Reading permisions for user 1
2012-07-03 17:25:10,912 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + role
2012-07-03 17:25:10,992 DEBUG [com.infosense.ibilling.client.authentication.util.SecuritySession] Setting locale for Spring contexts: en_CA
2012-07-03 17:25:10,992 DEBUG [com.infosense.ibilling.client.authentication.CompanyUserAuthenticationFilter] Authentication success. Updating SecurityContextHolder to contain: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@48ebf564: Principal: CompanyUserDetails{id=1, username='admin;1', mainRoleId=2, companyId=1, currencyId=1, languageId=1, enabled=true, accountExpired=false, credentialsExpired=false, accountLocked=false}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@166c8: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 9C7F4F3AD66139EDDE0D1708A8E53155; Granted Authorities: API_120, BILLING_80, CUSTOMER_10, CUSTOMER_11, CUSTOMER_12, CUSTOMER_13, CUSTOMER_14, CUSTOMER_15, CUSTOMER_16, INVOICE_70, INVOICE_71, INVOICE_72, INVOICE_73, INVOICE_74, MENU_90, MENU_91, MENU_92, MENU_93, MENU_94, MENU_95, MENU_96, MENU_97, MENU_98, MENU_99, ORDER_20, ORDER_21, ORDER_22, ORDER_23, ORDER_24, ORDER_25, ORDER_26, ORDER_27, ORDER_28, PAYMENT_30, PAYMENT_31, PAYMENT_32, PAYMENT_33, PAYMENT_34, PAYMENT_35, PAYMENT_36, PLAN_60, PLAN_61, PLAN_62, PLAN_63, PRODUCT_40, PRODUCT_41, PRODUCT_42, PRODUCT_43, PRODUCT_44, PRODUCT_CATEGORY_50, PRODUCT_CATEGORY_51, PRODUCT_CATEGORY_52, ROLE_SUPER_USER
2012-07-03 17:25:14,277 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + currency
2012-07-03 17:25:14,300 INFO  [com.infosense.ibilling.common.JNDILookup] Default Context set
2012-07-03 17:25:14,300 INFO  [com.infosense.ibilling.common.JNDILookup] New EJBFactory created.
2012-07-03 17:25:45,422 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + order_period
2012-07-03 17:25:45,447 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + order_status
2012-07-03 17:25:45,475 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + order_billing_type
2012-07-03 17:25:45,517 DEBUG [com.infosense.ibilling.server.util.Util] Description not set for period unit null language 1
2012-07-03 17:25:45,527 DEBUG [com.infosense.ibilling.server.invoice.InvoiceBL] converstion 0
2012-07-03 17:25:51,170 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + user_status
2012-07-03 17:26:28,391 DEBUG [grails.app.service.jbilling.ProductService] getting item types
2012-07-03 17:26:28,391 DEBUG [grails.app.service.jbilling.ProductService] getting item types
2012-07-03 17:26:32,465 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 42, for entity 1 and table 'entity'
2012-07-03 17:26:32,600 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 27, for entity 1 and table 'entity'
2012-07-03 17:26:32,730 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + period_unit
2012-07-03 17:26:33,038 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 41, for entity 1 and table 'entity'
2012-07-03 17:26:41,110 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + item
2012-07-03 17:26:51,961 DEBUG [com.infosense.ibilling.server.util.WebServicesSessionSpringBean] Processing order lines
2012-07-03 17:26:51,963 DEBUG [com.infosense.ibilling.server.util.WebServicesSessionSpringBean] Processing line OrderLine:[id=0 orderLineType=1 item=2701 order id=null amount=null quantity=1 price=null createDatetime=null deleted=0 useItem=true description=null versionNum=null provisioningStatus=null provisionningRequestId=null editable=null]
2012-07-03 17:26:58,246 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] total classes = 1
2012-07-03 17:26:58,246 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.item.tasks.RulesPricingTask2
2012-07-03 17:26:58,251 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.item.tasks.RulesPricingTask2
2012-07-03 17:27:01,744 DEBUG [com.infosense.ibilling.server.util.DTOFactory] getting the user 10790
2012-07-03 17:27:01,764 DEBUG [com.infosense.ibilling.server.util.db.JbillingTableDAS] Looking for table + subscriber_status
2012-07-03 17:27:01,856 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 43, for entity 1 and table 'entity'
2012-07-03 17:27:01,879 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 43, for entity 1 and table 'entity'
2012-07-03 17:27:01,914 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] UserIdFilter enabled
2012-07-03 17:27:01,914 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] NameFilter enabled
2012-07-03 17:27:01,916 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] CreditCardFilter enabled
2012-07-03 17:27:01,919 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] AddressFilter enabled
2012-07-03 17:27:01,919 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] IpAddressFilter enabled
2012-07-03 17:27:01,921 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] PhoneFilter enabled
2012-07-03 17:27:02,209 DEBUG [com.infosense.ibilling.server.user.ContactBL] ContactDTO: getting custom fields
2012-07-03 17:27:02,221 DEBUG [com.infosense.ibilling.server.user.ContactBL] Returning dto with 3 fields
2012-07-03 17:28:24,377 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context=PricingResult:itemId=2701 userId=10790 currencyId=1 price=null pricing fields result id=0 id=-9223372036854775808 done=false 
2012-07-03 17:28:24,377 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context=UserDTO{id=10790, userName='ageing-test-01'}
2012-07-03 17:28:24,377 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context= id 113100 organizationName  address1  address2  city  stateProvince  postalCode  countryCode CA lastName  firstName  initial null title null phoneCountryCode null phoneAreaCode null phoneNumber  faxCountryCode null faxAreaCode null faxNumber null email test@test.com createDate 2011-06-01 10:36:25.546 deleted 0 include 0 userId null contactMap = null null versionNum 0
2012-07-03 17:28:24,377 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@2def9f96
2012-07-03 17:28:24,377 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@4ed64869
2012-07-03 17:28:24,377 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@562c0dee
2012-07-03 17:28:24,467 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] Using MVEL thread accessor optimizer: org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer@4991b0eb
2012-07-03 17:28:24,467 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] Using MVEL accessor compiler: org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer@7bf63a08
2012-07-03 17:28:24,600 DEBUG [com.infosense.ibilling.server.pluggableTask.PluggableTask] processing parameter file value PricingRules.pkg RateCard.pkg
2012-07-03 17:28:24,600 DEBUG [com.infosense.ibilling.server.pluggableTask.PluggableTask] adding parameter PricingRules.pkg
2012-07-03 17:28:24,600 DEBUG [com.infosense.ibilling.server.pluggableTask.PluggableTask] adding parameter RateCard.pkg
2012-07-03 17:28:26,415 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] Plan: added subscription for item 2701 user 10790
2012-07-03 17:28:26,427 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] Plan: added subscription for item 2702 user 10790
2012-07-03 17:28:26,440 DEBUG [com.infosense.ibilling.server.item.tasks.RulesPricingTask2] Plan: added subscription for item 2700 user 10790
2012-07-03 17:28:26,440 DEBUG [com.infosense.ibilling.server.item.tasks.PricingResult] Setting price. Result fields id 0 item 2701 price 40.0000000000
2012-07-03 17:28:26,445 DEBUG [com.infosense.ibilling.server.item.ItemBL] Got item: 2701, price: 40.0000000000
2012-07-03 17:28:26,445 DEBUG [com.infosense.ibilling.server.util.WebServicesSessionSpringBean] Populating line using item ItemDTO: id=2701
2012-07-03 17:28:26,445 INFO  [com.infosense.ibilling.server.util.WebServicesSessionSpringBean] before cycle start
2012-07-03 17:28:26,445 DEBUG [com.infosense.ibilling.server.order.OrderBL] Processing and order for reviewing.1
2012-07-03 17:28:29,947 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] total classes = 2
2012-07-03 17:28:29,947 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.order.task.RulesLineTotalTask2
2012-07-03 17:28:29,953 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.order.task.RulesLineTotalTask2
2012-07-03 17:28:29,954 DEBUG [com.infosense.ibilling.server.util.DTOFactory] getting the user 10790
2012-07-03 17:28:29,980 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 43, for entity 1 and table 'entity'
2012-07-03 17:28:29,991 DEBUG [com.infosense.ibilling.server.util.PreferenceBL] Looking for preference 43, for entity 1 and table 'entity'
2012-07-03 17:28:30,002 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] UserIdFilter enabled
2012-07-03 17:28:30,002 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] NameFilter enabled
2012-07-03 17:28:30,002 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] CreditCardFilter enabled
2012-07-03 17:28:30,002 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] AddressFilter enabled
2012-07-03 17:28:30,002 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] IpAddressFilter enabled
2012-07-03 17:28:30,002 DEBUG [com.infosense.ibilling.server.payment.tasks.PaymentFilterTask] PhoneFilter enabled
2012-07-03 17:28:30,259 DEBUG [com.infosense.ibilling.server.user.ContactBL] ContactDTO: getting custom fields
2012-07-03 17:28:30,259 DEBUG [com.infosense.ibilling.server.user.ContactBL] Returning dto with 3 fields
2012-07-03 17:28:30,261 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context=Order = id=null,baseUserByUserId=10790,baseUserByCreatedBy=null,currencyDTO=com.infosense.ibilling.server.util.db.CurrencyDTO@d21b1f1,orderStatusDTO=com.infosense.ibilling.server.order.db.OrderStatusDTO@8a450c2,orderPeriodDTO=OrderPeriodDTO:[ id=2 company= CompanyDTO: 1 periodUnitDTO=PeriodUnitDTO: 1 value=1 versionNum=1],orderBillingTypeDTO= OrderBillingType=2,activeSince=Tue Jul 03 00:00:00 CST 2012,activeUntil=null,createDate=Tue Jul 03 17:28:26 CST 2012,nextBillableDay=null,deleted=0,notify=0,lastNotified=null,notificationStep=null,dueDateUnitId=3,dueDateValue=null,dfFm=null,anticipatePeriods=null,ownInvoice=null,notes=,notesInInvoice=0,orderProcesses=[],isCurrent=0,versionNum=null lines:[OrderLine:[id=0 orderLineType=1 item=2701 order id=null amount=null quantity=1 price=40.0000000000 createDatetime=Tue Jul 03 17:28:26 CST 2012 deleted=0 useItem=true description=Long Distance Plan B - fixed rate versionNum=null provisioningStatus=null provisionningRequestId=null editable=true]-]
2012-07-03 17:28:30,262 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context=UserDTO{id=10790, userName='ageing-test-01'}
2012-07-03 17:28:30,262 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context= id 113100 organizationName  address1  address2  city  stateProvince  postalCode  countryCode CA lastName  firstName  initial null title null phoneCountryCode null phoneAreaCode null phoneNumber  faxCountryCode null faxAreaCode null faxNumber null email test@test.com createDate 2011-06-01 10:36:25.546 deleted 0 include 0 userId null contactMap = null null versionNum 0
2012-07-03 17:28:30,262 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@6f78aef
2012-07-03 17:28:30,262 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@65c2547b
2012-07-03 17:28:30,262 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] in memory context=com.infosense.ibilling.server.user.contact.db.ContactFieldDTO@39388b6e
2012-07-03 17:28:30,262 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] Using MVEL thread accessor optimizer: org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer@2f4a001b
2012-07-03 17:28:30,262 DEBUG [com.infosense.ibilling.server.order.task.RulesItemManager2] Using MVEL accessor compiler: org.mvel2.optimizers.impl.refl.ReflectiveAccessorOptimizer@234d04de
2012-07-03 17:28:30,265 DEBUG [com.infosense.ibilling.server.pluggableTask.PluggableTask] processing parameter file value ItemsRules.pkg
2012-07-03 17:28:30,265 DEBUG [com.infosense.ibilling.server.pluggableTask.PluggableTask] adding parameter ItemsRules.pkg
2012-07-03 17:28:30,510 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Applying task com.infosense.ibilling.server.pluggableTask.BasicLineTotalTask
2012-07-03 17:28:30,512 DEBUG [com.infosense.ibilling.server.pluggableTask.admin.PluggableTaskManager] Creating a new instance of com.infosense.ibilling.server.pluggableTask.BasicLineTotalTask
2012-07-03 17:28:30,513 DEBUG [com.infosense.ibilling.server.pluggableTask.BasicLineTotalTask] normal line total: 1 x 40.0000000000 = 40.0000000000
2012-07-03 17:28:30,513 DEBUG [com.infosense.ibilling.server.pluggableTask.BasicLineTotalTask] Order total = 40.0000000000
